<t t-name="stock.label_package_template_view">
    <t t-foreach="docs" t-as="package">
        <t t-translation="off">
^XA
            <t t-if="package.valid_sscc">
                <t t-set="barcode" t-value="'00' + package.name"/>
                <t t-if="package.pack_date" name="datamatrix_pack_date" t-set="barcode" t-value="barcode + '13' + package.pack_date.strftime('%y%m%d')"/>
                
                <t t-set="package_level" t-value="request.env['stock.package_level'].sudo().search([('package_id', '=', package.id)], limit=1)"/>
                <t t-if="package_level and package_level.picking_id">
                    <t t-set="picking_name" t-value="package_level.picking_id.name"/>
                    <t t-if="picking_name" name="qr_picking_name" t-set="barcode" t-value="barcode + '91' + str(picking_name)"/>
                </t>
                
^FO155,25^BY2
^BQN,2,6
^FD<t t-out="barcode"/>^FS
^FO25,150
^A0N,28,20^FD<t t-if="package_level and package_level.picking_id"><t t-out="picking_name"/></t>^FS
^FO25,185
<t t-if="package.package_type_id">^A0N,28,20^FD<t t-out="package.package_type_id.name"/>^FS</t>
^FO25,220
<t t-if="package.shipping_weight">^A0N,28,20^FD<t t-out="'%.2f' % package.shipping_weight"/> lb^FS</t>
<t t-if="package_level and len(package_level.move_line_ids) == 1">
^FO25,255
^A0N,28,20^FD<t t-out="package_level.move_line_ids[0].product_id.name[:35]"/>^FS
</t>
            </t>
            <t t-else="">
                <t t-set="package_level" t-value="request.env['stock.package_level'].sudo().search([('package_id', '=', package.id)], limit=1)"/>
^FO155,25^BY2
^BQN,2,6
^FD<t t-out="package.name"/>^FS
^FO25,150
<t t-if="package_level and package_level.picking_id">^A0N,28,20^FD<t t-out="package_level.picking_id.name"/>^FS</t>
^FO25,185
<t t-if="package.package_type_id">^A0N,28,20^FD<t t-out="package.package_type_id.name"/>^FS</t>
^FO25,220
<t t-if="package.shipping_weight">^A0N,28,20^FD<t t-out="'%.2f' % package.shipping_weight"/> lb^FS</t>
<t t-if="package_level and len(package_level.move_line_ids) == 1">
^FO25,255
^A0N,28,20^FD<t t-out="package_level.move_line_ids[0].product_id.name[:35]"/>^FS
</t>
            </t>
^XZ
        </t>
    </t>
</t>
